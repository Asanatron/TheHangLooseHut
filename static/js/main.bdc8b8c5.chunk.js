(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{108:function(e,t,a){e.exports=a.p+"static/media/Logo.7839023b.png"},133:function(e,t,a){},286:function(e,t,a){e.exports=a(433)},291:function(e,t,a){},315:function(e,t,a){},430:function(e,t,a){},433:function(e,t,a){"use strict";a.r(t);var n=a(0),s=a.n(n),l=a(44),r=a.n(l),c=(a(291),a(293),a(83)),i=a(84),o=a(184),m=a(85),u=a(185),d=a(432),g=a(450),h=a(434),p=a(435),f=a(449),E=a(182),y=a(452),b=a(436),N=a(90),v=a.n(N),k=a(107),w=(a(133),a(441)),j=a(440),S=a(108),A=a.n(S),I=a(8),L=a(443),C=a(158),O=a(445),x=a(444),F=a(446),R=a(59),D=a(451),_=a(62),B=a.n(_),U=a(257),H=a.n(U),P=(a(315),s.a.createElement(R.a,{style:{fontSize:72},spin:!0})),T=L.a.Dragger,z=C.a.Option,M=O.a.Meta,K=new Map([["On Hold","yellow"],["Pending Licensor Review","yellow"],["Pending Admin Review","yellow"],["Rejected By Licensor","red"],["Rejected By Admin","red"],["Final Rejected By Admin","red"],["Approved By Admin With Changes","green"],["Approved By Licensor With Changes","green"],["Approved By Admin","green"],["Approved By Licensor","green"]]),G=function(e){function t(e){var a;return Object(c.a)(this,t),(a=Object(o.a)(this,Object(m.a)(t).call(this,e))).state={designs:null,pageNum:1,clients:null,category:"",title:"",location:"",clientID:"",treeData:null,desc:"",image:null,imageName:"",mainLink:"",files:null,FILEBASE64URI:null},a}return Object(u.a)(t,e),Object(i.a)(t,[{key:"componentDidMount",value:function(){var e=Object(k.a)(v.a.mark(function e(){var t,a,n,s=this;return v.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:t={method:"get",url:"https://thehangloosehutbackend.herokuapp.com/designs",headers:{}},B()(t).then(function(e){s.setState({designs:e.data.designs.data})}).catch(function(e){console.log(e)}),a={method:"get",url:"https://thehangloosehutbackend.herokuapp.com/clients"},B()(a).then(function(e){s.setState({clients:e.data.clients.data})}).catch(function(e){console.log(e)}),n={method:"get",url:"https://thehangloosehutbackend.herokuapp.com/categories"},B()(n).then(function(e){var t=[];e.data.categories.map(function(e){t.push({title:e[0],value:H()(),children:e[1],selectable:!1})}),s.setState({treeData:t})}).catch(function(e){console.log(e)});case 6:case"end":return e.stop()}},e)}));return function(){return e.apply(this,arguments)}}()},{key:"onPost",value:function(){var e=this;if(""!==this.state.imageName&&""!==this.state.category&&""!==this.state.clientID&&""!==this.state.desc&&null!==this.state.image){var t={method:"post",url:"https://thehangloosehutbackend.herokuapp.com/designs/",data:{title:0===this.state.title.length?this.state.imageName.substring(0,this.state.imageName.lastIndexOf(".")):this.state.title,product_category_id:Number(this.state.category),image:this.state.image,image_filename:this.state.imageName.substring(0,this.state.imageName.lastIndexOf(".")),description:this.state.desc.substring(this.state.desc.lastIndexOf("/")+1),primary_client_id:this.state.clientID,is_expedited:!0}};B()(t).then(function(t){var a={method:"post",url:"https://thehangloosehutbackend.herokuapp.com/movetask?taskid=".concat(e.state.desc.substring(e.state.desc.lastIndexOf("/")+1),"&sectionid=","1202204681516966"),headers:{}};B()(a).then(function(t){console.log(t),d.a.success({message:"".concat(e.state.title," design uploaded successfully to Affinity."),placement:"bottomRight"})}).catch(function(e){console.log(e)})}).catch(function(e){d.a.error({message:"".concat(e),placement:"bottomRight"}),console.log(e)})}else d.a.error({message:"Complete the form",placement:"bottomRight"})}},{key:"render",value:function(){var e=this,t=(this.state.files,{name:"file",multiple:!1,fileList:[],onRemove:function(t){e.setState(function(e){return{fileList:null,FILEBASE64URI:null,image:null}})},beforeUpload:function(t){var a=new FileReader;return a.readAsDataURL(t),a.onload=function(){var n={name:t.name,type:t.type,size:Math.round(t.size/1e3)+" kB",base64:a.result,file:t};e.setState(function(e){return{files:t,imageName:n.name,FILEBASE64URI:n.base64,image:n.base64.slice(23)}})},!1}});return s.a.createElement("div",{className:"upload mt3 mb3"},s.a.createElement(h.a,{justify:"centre",className:"dashboard-designs-header w-100 pr3 pl3"},s.a.createElement(p.a,{lg:3,className:"f4"},"Upload Design"),s.a.createElement(p.a,{lg:21})),s.a.createElement(j.a,null),s.a.createElement(h.a,{justify:"center",gutter:16,className:"mb3"},s.a.createElement(p.a,{lg:11},s.a.createElement(T,t,this.state.FILEBASE64URI&&s.a.createElement("img",{src:this.state.FILEBASE64URI,width:"500px"}),s.a.createElement("p",{className:"ant-upload-drag-icon"},s.a.createElement(D.a,null)),s.a.createElement("p",{className:"ant-upload-text"},"Click or drag file to this area to upload"),s.a.createElement("p",{className:"ant-upload-hint"},"Supported files: jpg, jpeg, png, pdf."))),s.a.createElement(p.a,{lg:11},s.a.createElement("div",{className:"pb1 pa2 f5 b"},"Title"),s.a.createElement(f.a,{className:"",placeholder:0===this.state.imageName.length?"Enter design title":this.state.imageName.substring(0,this.state.imageName.lastIndexOf(".")),onChange:function(t){return e.setState({title:t.target.value})}}),s.a.createElement("div",{className:"pb1 pa2 f5 b"},"Description"),s.a.createElement(f.a,{className:"",placeholder:"Enter design description",onChange:function(t){return e.setState({desc:t.target.value})}}),s.a.createElement("div",{className:"pb1 pa2 f5 b"},"Primary Licensor"),s.a.createElement(C.a,{defaultOpen:"",onChange:function(t){e.setState({clientID:t})},className:"w-100",placeholder:"Select province"},this.state.clients?this.state.clients.map(function(e,t){return s.a.createElement(z,{key:t,value:e.id},e.name)}):s.a.createElement(z,{value:0},s.a.createElement(h.a,{className:"w-100",justify:"center"},s.a.createElement(p.a,{lg:2},s.a.createElement(w.a,{indicator:P,className:"dashboard-designs-spin"}))))),s.a.createElement("div",{className:"pb1 pa2 f5 b"},"Category"),s.a.createElement(x.a,{style:{width:"100%"},dropdownStyle:{maxHeight:400,overflow:"auto"},treeData:this.state.treeData,placeholder:"Select Category",onChange:function(t){e.setState({category:t})}}))),s.a.createElement(h.a,{justify:"center mb3 pt3"},s.a.createElement(E.a,{className:"",type:"primary",onClick:function(){e.onPost()}},"Upload to Affinity")),s.a.createElement(h.a,{className:"dashboard-designs w-100 ma3"},s.a.createElement(h.a,{justify:"centre",className:"dashboard-designs-header w-100 pr3 pl3"},s.a.createElement(p.a,{lg:5,className:"f4"},"Past Designs"),s.a.createElement(p.a,{lg:19})),s.a.createElement(j.a,null),null==this.state.designs?s.a.createElement(h.a,{className:"w-100 mb3",justify:"center"},s.a.createElement(p.a,{lg:2},s.a.createElement(w.a,{indicator:P,className:"dashboard-designs-spin"}))):s.a.createElement(s.a.Fragment,null,s.a.createElement(h.a,{justify:"center",gutter:16,className:"w-100"},this.state.designs.slice(4*(this.state.pageNum-1),4*this.state.pageNum).map(function(e,t){return s.a.createElement(p.a,{lg:6},s.a.createElement(O.a,{key:t,hoverable:!0,className:"dashboard-designs-card",cover:s.a.createElement(h.a,{justify:"center",align:"middle",className:"dashboard-designs-card-image-wrapper"},s.a.createElement(p.a,{className:"pa2"},s.a.createElement("img",{alt:"example",className:"dashboard-designs-card-image",src:e.iterations[0].image.urls.or})))},s.a.createElement(M,{title:s.a.createElement(h.a,{justify:"center"},s.a.createElement(p.a,{span:8},e.title?e.title.length>15?e.title.slice(0,14)+"...":e.title:""),s.a.createElement(p.a,{span:12,offset:4},e.primary_client?e.primary_client.name.length>15?e.primary_client.name.slice(0,14)+"...":e.primary_client.name:"")),description:s.a.createElement("span",{className:K.get(e.phase.name)},e.phase.name)})))})),s.a.createElement(h.a,{className:"w-100 pt3",justify:"center"},s.a.createElement(p.a,{lg:7},s.a.createElement(F.a,{pageSize:4,total:this.state.designs.length,onChange:function(t){return e.setState({pageNum:t})}}))))))}}]),t}(n.Component),W=a(447),q=a(453),J=g.a.Content,Y=g.a.Footer,Q=s.a.createElement(R.a,{style:{fontSize:72},spin:!0}),V=[{gid:"1201675561988415",name:"Untitled section",resource_type:"section"},{gid:"1202110923593137",name:"Order Form Inquiry",resource_type:"section"},{gid:"1201697191761872",name:"GENERAL",resource_type:"section"},{gid:"1201676388962279",name:"CHECK AFFINITY",resource_type:"section"},{gid:"1201681956608998",name:"Pending approval after affinity",resource_type:"section"},{gid:"1201713389856031",name:"FEEDBACK",resource_type:"section"},{gid:"1202204681516958",name:"Approved From Affinity",resource_type:"section"},{gid:"1202204681516963",name:"Rejected From Affinity",resource_type:"section"},{gid:"1202204681516966",name:"Uploaded to Affinity",resource_type:"section"},{gid:"1202204681516973",name:"Customer Review",resource_type:"section"}],X=function(e){function t(e){var a;return Object(c.a)(this,t),(a=Object(o.a)(this,Object(m.a)(t).call(this,e))).state={designs:null,pageNum:1,taskData:[]},a}return Object(u.a)(t,e),Object(i.a)(t,[{key:"componentDidMount",value:function(){var e=Object(k.a)(v.a.mark(function e(){var t;return v.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:t=[],V.forEach(function(e){var a={method:"get",url:"https://thehangloosehutbackend.herokuapp.com/fetchtasks?gid=".concat(e.gid),headers:{}};B()(a).then(function(e){t.push({x:e.data.tasks.data.length,y:e.data.tasks.data.length})}).catch(function(e){console.log(e)})}),this.setState({taskData:t});case 3:case"end":return e.stop()}},e,this)}));return function(){return e.apply(this,arguments)}}()},{key:"render",value:function(){return s.a.createElement(g.a,{className:"content-background"},s.a.createElement(h.a,{className:"header",align:"center"},s.a.createElement(p.a,null,s.a.createElement("img",{alt:"TheHangLooseHut",className:"header-logo",src:A.a}))),s.a.createElement(h.a,{style:{minHeight:"85vh"},gutter:16},s.a.createElement(p.a,{lg:6},this.state.taskData.length>=6?s.a.createElement(h.a,{className:"w-100",justify:"center"},s.a.createElement(p.a,{lg:2},s.a.createElement(w.a,{indicator:Q,className:"dashboard-designs-spin"}))):s.a.createElement("div",{className:"asana ma3"},s.a.createElement(h.a,null,s.a.createElement(p.a,{className:"f4"},"Asana Logistics",s.a.createElement(j.a,null))),s.a.createElement(h.a,null,s.a.createElement(p.a,null,s.a.createElement(W.a,{data:this.state.taskData,animate:{duration:2e3},colorScale:["#262626","#454444","#636363","#737373","#878787","#999999"],style:{data:{stroke:"black",strokeWidth:.2}}}))),s.a.createElement(h.a,null,s.a.createElement(p.a,null,s.a.createElement(q.a,{x:125,y:50,title:"Legend",centerTitle:!0,orientation:"vertical",gutter:20,style:{border:{stroke:"black"},title:{fontSize:20}},data:[{name:"Untitled section",symbol:{fill:"#262626"}},{name:"Order Form Inquiry",symbol:{fill:"#454444"}},{name:"GENERAL",symbol:{fill:"#636363"}},{name:"CHECK AFFINITY",symbol:{fill:"#737373"}},{name:"Pending approval after affinity",symbol:{fill:"#878787"}},{name:"FEEDBACK",symbol:{fill:"#999999"}}]}))))),s.a.createElement(p.a,{lg:18},s.a.createElement(J,{style:{padding:"0px 0px 0px 16px"}},s.a.createElement(I.c,null,s.a.createElement(I.a,{exact:!0,path:"/TheHangLooseHut/",element:s.a.createElement(G,null)}))))),s.a.createElement(Y,{className:"footer",style:{textAlign:"center"}},"\xa9 THE HANG LOOSE HUT 2022"))}}]),t}(n.Component),Z=(a(430),function(e){function t(){var e,a;Object(c.a)(this,t);for(var n=arguments.length,s=new Array(n),l=0;l<n;l++)s[l]=arguments[l];return(a=Object(o.a)(this,(e=Object(m.a)(t)).call.apply(e,[this].concat(s)))).state={collapsed:!1,loginState:"LoggedIn",username:"",password:""},a.onCollapse=function(e){a.setState({collapsed:e})},a}return Object(u.a)(t,e),Object(i.a)(t,[{key:"Login",value:function(){var e=this,t={method:"get",url:"https://thehangloosehutbackend.herokuapp.com/login?id=".concat(this.state.username,"&pwd=").concat(this.state.password)};""!==this.state.password&&""!==this.state.username?B()(t).then(function(t){!0===t.data?e.setState({loginState:"LoggedIn"}):d.a.error({message:"Incorrect username or Password",placement:"bottomRight"})}).catch(function(e){console.log(e)}):d.a.error({message:"Enter Username and Password",placement:"bottomRight"})}},{key:"render",value:function(){var e=this;this.state.collapsed;return s.a.createElement("div",null,"LoggedIn"===this.state.loginState?s.a.createElement(g.a,{className:"site-layout"},s.a.createElement(X,null)):s.a.createElement("div",{className:"login-page"},s.a.createElement(h.a,{className:"header",align:"center"},s.a.createElement(p.a,null,s.a.createElement("img",{alt:"TheHangLooseHut",className:"header-logo",src:A.a}))),s.a.createElement(h.a,{className:"login-box",justify:"bottom",align:"center"},s.a.createElement(p.a,{className:"f3 login-form"},s.a.createElement(f.a,{className:"",placeholder:"Enter Username",onChange:function(t){return e.setState({username:t.target.value})}}),s.a.createElement(f.a.Password,{placeholder:"Enter Password",iconRender:function(e){return e?s.a.createElement(y.a,null):s.a.createElement(b.a,null)},onChange:function(t){return e.setState({password:t.target.value})}}),s.a.createElement(h.a,{justify:"middle",align:"center",className:"mt3"},s.a.createElement(E.a,{className:"",type:"primary",onClick:function(){e.Login()}},"Login"))))))}}]),t}(n.Component)),$=a(181),ee=function(e){e&&e instanceof Function&&a.e(1).then(a.bind(null,442)).then(function(t){var a=t.getCLS,n=t.getFID,s=t.getFCP,l=t.getLCP,r=t.getTTFB;a(e),n(e),s(e),l(e),r(e)})};r.a.render(s.a.createElement(s.a.StrictMode,null,s.a.createElement($.a,null,s.a.createElement(Z,null))),document.getElementById("root")),ee()}},[[286,3,2]]]);
//# sourceMappingURL=main.bdc8b8c5.chunk.js.map