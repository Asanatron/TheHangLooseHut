(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{105:function(e,t,a){e.exports=a.p+"static/media/Logo.7839023b.png"},118:function(e,t,a){},282:function(e,t,a){e.exports=a(425)},309:function(e,t,a){},423:function(e,t,a){},425:function(e,t,a){"use strict";a.r(t);var n=a(0),s=a.n(n),l=a(41),c=a.n(l),i=(a(287),a(68)),r=a(69),o=a(161),m=a(70),h=a(187),d=a(258),u=a(442),g=a(426),p=a(427),f=a(440),E=a(185),b=a(444),k=a(428),y=a(76),v=a.n(y),N=a(104),S=(a(118),a(433)),w=a(432),I=a(105),x=a.n(I),j=a(6),L=a(82),D=a(435),O=a(189),C=a(436),F=a(441),R=a(437),A=a(150),P=a(443),M=a(31),_=a.n(M),B=(a(309),s.a.createElement(A.a,{style:{fontSize:72},spin:!0})),U=s.a.createElement(A.a,{style:{fontSize:24},spin:!0}),H=D.a.Dragger,T=O.a.Option,z=C.a.Meta,W=new Map([["On Hold","yellow"],["Pending Licensor Review","yellow"],["Pending Admin Review","yellow"],["Rejected By Licensor","red"],["Rejected By Admin","red"],["Final Rejected By Admin","red"],["Approved By Admin With Changes","green"],["Approved By Licensor With Changes","green"],["Approved By Admin","green"],["Approved By Licensor","green"]]),G=function(e){function t(e){var a;return Object(i.a)(this,t),(a=Object(o.a)(this,Object(m.a)(t).call(this,e))).state={designs:null,clients:null,treeData:null,image:null,files:null,FILEBASE64URI:null,imageName:"",category:"",title:"",clientID:"",desc:"",is_expedited:!1,pageNum:1,uploading:!1,sectionID:""},a.onPost=a.onPost.bind(Object(L.a)(Object(L.a)(a))),a}return Object(h.a)(t,e),Object(r.a)(t,[{key:"componentDidMount",value:function(){var e=Object(N.a)(v.a.mark(function e(){var t,a,n,s=this;return v.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:t={method:"get",url:"https://thehangloosehutbackend.herokuapp.com/designs",headers:{}},_()(t).then(function(e){s.setState({designs:e.data.designs.data})}).catch(function(e){d.a.error({message:"".concat(e),placement:"bottomRight"})}),a={method:"get",url:"https://thehangloosehutbackend.herokuapp.com/clients"},_()(a).then(function(e){s.setState({clients:e.data.clients.data})}).catch(function(e){d.a.error({message:"test ".concat(e),placement:"bottomRight"})}),n={method:"get",url:"https://thehangloosehutbackend.herokuapp.com/categories"},_()(n).then(function(e){var t=[];e.data.categories.map(function(e){t.push({id:e.id,name:e.name})}),s.setState({treeData:t})}).catch(function(e){d.a.error({message:"".concat(e),placement:"bottomRight"})});case 6:case"end":return e.stop()}},e)}));return function(){return e.apply(this,arguments)}}()},{key:"onPost",value:function(){var e=this,t="";if("f"===this.state.desc[this.state.desc.length-1]){var a=this.state.desc.substring(0,this.state.desc.lastIndexOf("/"));t=a.substring(a.lastIndexOf("/")+1)}else t=this.state.desc.substring(this.state.desc.lastIndexOf("/")+1);if(""===this.state.imageName&&!this.state.title||""===this.state.category||""===this.state.clientID||""===this.state.desc||null===this.state.image||!1!==this.state.uploading)d.a.error({message:"Complete the form",placement:"bottomRight"}),this.setState({uploading:!1});else{this.setState({uploading:!0});var n={};n=this.state.is_expedited?{method:"post",url:"https://thehangloosehutbackend.herokuapp.com/designs/",data:{title:0===this.state.title.length?this.state.imageName.substring(0,this.state.imageName.lastIndexOf(".")):this.state.title,product_category_id:Number(this.state.category),image:this.state.image,image_filename:this.state.imageName.substring(0,this.state.imageName.lastIndexOf(".")),description:t,primary_client_id:this.state.clientID,is_expedited:this.state.is_expedited}}:{method:"post",url:"https://thehangloosehutbackend.herokuapp.com/designs/",data:{title:0===this.state.title.length?this.state.imageName.substring(0,this.state.imageName.lastIndexOf(".")):this.state.title,product_category_id:Number(this.state.category),image:this.state.image,image_filename:this.state.imageName.substring(0,this.state.imageName.lastIndexOf(".")),description:t,primary_client_id:this.state.clientID}},_()(n).then(function(a){var n={method:"post",url:"https://thehangloosehutbackend.herokuapp.com/tagreview?taskid=".concat(t),headers:{}};_()(n).then(function(a){var n={method:"get",url:"https://thehangloosehutbackend.herokuapp.com/gettask?taskid=".concat(t),headers:{}};_()(n).then(function(t){t.data.task.data.parent?e.setState({ParentID:t.data.task.data.parent.gid}):e.setState({ParentID:t.data.task.data.gid});var a={method:"get",url:"https://thehangloosehutbackend.herokuapp.com/getprojectid?taskid=".concat(e.state.ParentID),headers:{}};_()(a).then(function(t){var a={method:"get",url:"https://thehangloosehutbackend.herokuapp.com/getsections?projectid=".concat(t.data.projectID),headers:{}};_()(a).then(function(t){e.setState({sectionID:t.data.sectionID});var a={method:"get",url:"https://thehangloosehutbackend.herokuapp.com/getsubtask?taskid=".concat(e.state.ParentID),headers:{}};_()(a).then(function(t){var a=!0;Promise.all(t.data.subtasks.data.map(function(e){return _.a.get("https://thehangloosehutbackend.herokuapp.com/gettask?taskid=".concat(e.gid))})).then(function(t){if(t.map(function(e){0===e.data.task.data.tags.length?a=!1:0!==e.data.task.data.tags.length&&(a=!0)}),!0===a){if(e.state.sectionID){console.log("section found");var n={method:"post",url:"https://thehangloosehutbackend.herokuapp.com/movetask?taskid=".concat(e.state.ParentID,"&sectionid=").concat(e.state.sectionID),headers:{}};_()(n).then(function(t){d.a.success({message:"Successfully uploaded design to affinity",description:"Moved asana task",placement:"bottomRight"}),e.setState({uploading:!1,category:"",title:"",clientID:"",desc:"",is_expedited:!1,files:null,imageName:"",FILEBASE64URI:null,image:null});_()({method:"get",url:"https://thehangloosehutbackend.herokuapp.com/designs",headers:{}}).then(function(t){e.setState({designs:t.data.designs.data})}).catch(function(e){d.a.error({message:"".concat(e),placement:"bottomRight"})})}).catch(function(e){d.a.error({message:"".concat(e),placement:"bottomRight"})})}}else{d.a.success({message:"Successfully uploaded design to affinity",placement:"bottomRight"}),e.setState({uploading:!1,category:"",title:"",clientID:"",desc:"",is_expedited:!1,files:null,imageName:"",FILEBASE64URI:null,image:null});_()({method:"get",url:"https://thehangloosehutbackend.herokuapp.com/designs",headers:{}}).then(function(t){e.setState({designs:t.data.designs.data})}).catch(function(e){d.a.error({message:"".concat(e),placement:"bottomRight"})})}})}).catch(function(e){d.a.error({message:"".concat(e),placement:"bottomRight"})})})})}).catch(function(e){d.a.error({message:"".concat(e),placement:"bottomRight"})})}).catch(function(e){d.a.error({message:"".concat(e),placement:"bottomRight"})})}).catch(function(e){d.a.error({message:"".concat(e),placement:"bottomRight"})})}}},{key:"render",value:function(){var e=this,t={name:"file",multiple:!1,fileList:[],onRemove:function(t){e.setState({fileList:null,FILEBASE64URI:null,image:null})},beforeUpload:function(t){var a=new FileReader;return a.readAsDataURL(t),a.onload=function(){var n={name:t.name,type:t.type,size:Math.round(t.size/1e3)+" kB",base64:a.result,file:t};e.setState({files:t,imageName:n.name,FILEBASE64URI:n.base64,image:"image/png"===n.type?n.base64.slice(22):n.base64.slice(23)})},!1}};return s.a.createElement("div",{className:"upload mt3 mb3"},s.a.createElement(g.a,{justify:"centre",className:"dashboard-designs-header w-100 pr3 pl3"},s.a.createElement(p.a,{lg:4,className:"f4"},"Upload Design"),s.a.createElement(p.a,{lg:20})),s.a.createElement(w.a,null),s.a.createElement(g.a,{justify:"center",gutter:16,className:"mb3"},s.a.createElement(p.a,{lg:11},s.a.createElement(H,t,this.state.FILEBASE64URI&&s.a.createElement("img",{alt:"design to be uploaded",src:this.state.FILEBASE64URI,width:"500px"}),s.a.createElement("p",{className:"ant-upload-drag-icon"},s.a.createElement(P.a,null)),s.a.createElement("p",{className:"ant-upload-text"},"Click or drag file to this area to upload"),s.a.createElement("p",{className:"ant-upload-hint"},"Supported files: jpg, jpeg and png only"))),s.a.createElement(p.a,{lg:11},s.a.createElement("div",{className:"pb1 pa2 f5 b"},"Title"),s.a.createElement(f.a,{className:"",placeholder:0===this.state.imageName.length?"Enter design title":this.state.imageName.substring(0,this.state.imageName.lastIndexOf(".")),onChange:function(t){return e.setState({title:t.target.value})},value:this.state.title}),s.a.createElement("div",{className:"pb1 pa2 f5 b"},"Task Link"),s.a.createElement(f.a,{className:"",placeholder:"Enter design description",onChange:function(t){return e.setState({desc:t.target.value})},value:this.state.desc}),s.a.createElement("div",{className:"pb1 pa2 f5 b"},"Primary Licensor"),s.a.createElement(O.a,{defaultOpen:"",onChange:function(t){e.setState({clientID:t})},className:"w-100",placeholder:"Select province",value:this.state.clientID,showSearch:!0,filterOption:function(e,t){return t.children.toLowerCase().includes(e.toLowerCase())}},this.state.clients?this.state.clients.map(function(e,t){return s.a.createElement(T,{key:t,value:e.id},e.name)}):s.a.createElement(T,{value:0},s.a.createElement(g.a,{className:"w-100",justify:"center"},s.a.createElement(p.a,{lg:2},s.a.createElement(S.a,{indicator:B,className:""}))))),s.a.createElement("div",{className:"pb1 pa2 f5 b"},"Category"),s.a.createElement(O.a,{defaultOpen:"",onChange:function(t){e.setState({category:t})},className:"w-100",placeholder:"Select province",value:this.state.category,showSearch:!0,filterOption:function(e,t){return t.children.toLowerCase().includes(e.toLowerCase())}},this.state.treeData?this.state.treeData.map(function(e,t){return s.a.createElement(T,{key:t,value:e.id},e.name)}):s.a.createElement(T,{value:0},s.a.createElement(g.a,{className:"w-100",justify:"center"},s.a.createElement(p.a,{lg:2},s.a.createElement(S.a,{indicator:B,className:""}))))),s.a.createElement("div",{className:"pb1 pa2 f5 b"},"Expedite"),s.a.createElement(F.a.Group,{className:"tc",onChange:function(t){e.setState({is_expedited:t.target.value})},value:this.state.is_expedited},s.a.createElement(F.a,{value:!0},"Yes"),s.a.createElement(F.a,{value:!1},"No")))),s.a.createElement(g.a,{justify:"center mb3 pt3"},!1===this.state.uploading?s.a.createElement(E.a,{className:"",style:{minWidth:"32px"},type:"primary",onClick:function(){e.onPost()}},"Upload to Affinity"):s.a.createElement(E.a,{className:"",style:{minWidth:"32px"},type:"primary",onClick:function(){e.onPost()}},s.a.createElement(S.a,{indicator:U,className:"dashboard-designs-spin"}))),s.a.createElement(g.a,{className:"dashboard-designs w-100 ma3"},s.a.createElement(g.a,{justify:"centre",className:"dashboard-designs-header w-100 pr3 pl3"},s.a.createElement(p.a,{lg:5,className:"f4"},"Past Designs"),s.a.createElement(p.a,{lg:19})),s.a.createElement(w.a,null),null==this.state.designs?s.a.createElement(g.a,{className:"w-100 mb3",justify:"center"},s.a.createElement(p.a,{lg:2},s.a.createElement(S.a,{indicator:B,className:""}))):s.a.createElement(s.a.Fragment,null,s.a.createElement(g.a,{justify:"center",gutter:16,className:"w-100"},this.state.designs.slice(4*(this.state.pageNum-1),4*this.state.pageNum).map(function(e,t){return s.a.createElement(p.a,{key:t,lg:6},s.a.createElement(C.a,{hoverable:!0,className:"dashboard-designs-card",cover:s.a.createElement(g.a,{justify:"center",align:"middle",className:"dashboard-designs-card-image-wrapper"},s.a.createElement(p.a,{className:"pa2"},s.a.createElement("img",{alt:"example",className:"dashboard-designs-card-image",src:e.iterations[0].image.urls.or})))},s.a.createElement(z,{title:s.a.createElement(g.a,{justify:"center"},s.a.createElement(p.a,{span:8},e.title?e.title.length>30?e.title.slice(0,29)+"...":e.title:""),s.a.createElement(p.a,{span:12,offset:4})),description:s.a.createElement("div",null,s.a.createElement("div",null,e.primary_client?e.primary_client.name:""),s.a.createElement("span",{className:W.get(e.phase.name)},e.phase.name))})))})),s.a.createElement(g.a,{className:"w-100 pt3",justify:"center"},s.a.createElement(p.a,{lg:10},s.a.createElement(R.a,{pageSize:4,total:this.state.designs.length,onChange:function(t){return e.setState({pageNum:t})}}))))))}}]),t}(n.Component),J=a(438),Y=a(445),q=u.a.Content,K=u.a.Footer,Q=s.a.createElement(A.a,{style:{fontSize:72},spin:!0}),V=function(e){function t(e){var a;return Object(i.a)(this,t),(a=Object(o.a)(this,Object(m.a)(t).call(this,e))).state={designs:null,taskDataOld:[],taskDataNew:[],Fetched:!1,Logistics:1},a}return Object(h.a)(t,e),Object(r.a)(t,[{key:"componentDidMount",value:function(){var e=Object(N.a)(v.a.mark(function e(){var t,a,n,s=this;return v.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:t=[],a=[],n={method:"get",url:"https://thehangloosehutbackend.herokuapp.com/fetchtasks?gid=1202401225268634",headers:{}},_()(n).then(function(e){t.push({x:Math.round(e.data.tasks.data.length,0),y:Math.round(e.data.tasks.data.length,0)});_()({method:"get",url:"https://thehangloosehutbackend.herokuapp.com/fetchtasks?gid=1202401225268638",headers:{}}).then(function(e){t.push({x:Math.round(e.data.tasks.data.length,0),y:Math.round(e.data.tasks.data.length,0)});_()({method:"get",url:"https://thehangloosehutbackend.herokuapp.com/fetchtasks?gid=1202401225268637",headers:{}}).then(function(e){t.push({x:Math.round(e.data.tasks.data.length,0),y:Math.round(e.data.tasks.data.length,0)}),s.setState({Fetched:!0})}).catch(function(e){console.log(e)})}).catch(function(e){console.log(e)})}).catch(function(e){console.log(e)}),n={method:"get",url:"https://thehangloosehutbackend.herokuapp.com/fetchtasks?gid=1203923992086451",headers:{}},_()(n).then(function(e){a.push({x:Math.round(e.data.tasks.data.length,0),y:Math.round(e.data.tasks.data.length,0)});_()({method:"get",url:"https://thehangloosehutbackend.herokuapp.com/fetchtasks?gid=1202401225268638",headers:{}}).then(function(e){a.push({x:Math.round(e.data.tasks.data.length,0),y:Math.round(e.data.tasks.data.length,0)});_()({method:"get",url:"https://thehangloosehutbackend.herokuapp.com/fetchtasks?gid=1204085369322326",headers:{}}).then(function(e){a.push({x:Math.round(e.data.tasks.data.length,0),y:Math.round(e.data.tasks.data.length,0)}),s.setState({Fetched:!0})}).catch(function(e){console.log(e)})}).catch(function(e){console.log(e)})}).catch(function(e){console.log(e)}),this.setState({taskDataOld:t,taskDataNew:a});case 7:case"end":return e.stop()}},e,this)}));return function(){return e.apply(this,arguments)}}()},{key:"render",value:function(){var e=this;return s.a.createElement(u.a,{className:"content-background"},s.a.createElement(g.a,{className:"header",align:"center"},s.a.createElement(p.a,null,s.a.createElement("img",{alt:"TheHangLooseHut",className:"header-logo",src:x.a}))),s.a.createElement(g.a,{style:{minHeight:"85vh"},gutter:16},s.a.createElement(p.a,{lg:6},this.state.Fetched?s.a.createElement("div",{className:"asana ma3"},s.a.createElement(g.a,null,s.a.createElement(p.a,{className:"f4"},"Asana Logistics",s.a.createElement(w.a,null))),s.a.createElement(g.a,{justify:"center mb3 pt3",gutter:4},s.a.createElement(p.a,{lg:12},s.a.createElement(E.a,{style:{minWidth:"32px",width:"100%"},type:"primary",onClick:function(){e.setState({Logistics:1})}},"Hang Loose")),s.a.createElement(p.a,{lg:12},s.a.createElement(E.a,{style:{minWidth:"32px",width:"100%"},type:"primary",onClick:function(){e.setState({Logistics:2})}},"New Marketing"))),1===this.state.Logistics?s.a.createElement("div",null,s.a.createElement(g.a,null,s.a.createElement(p.a,null,s.a.createElement(J.a,{data:this.state.taskDataOld,animate:{duration:2e3},colorScale:["#E48EC3","#7FC9EF","#FAD447"],style:{data:{stroke:"black",strokeWidth:.2}}}))),s.a.createElement(g.a,null,s.a.createElement(p.a,null,s.a.createElement(Y.a,{x:125,y:50,title:"Legend",centerTitle:!0,orientation:"vertical",gutter:20,style:{title:{fontSize:26},labels:{fontSize:20}},data:[{name:"Customer Review",symbol:{fill:"#E48EC3"}},{name:"Approved From Affinity",symbol:{fill:"#7FC9EF"}},{name:"Uploaded to Affinity",symbol:{fill:"#FAD447"}}]})))):s.a.createElement("div",null,s.a.createElement(g.a,null,s.a.createElement(p.a,null,s.a.createElement(J.a,{data:this.state.taskDataNew,animate:{duration:2e3},colorScale:["#E48EC3","#7FC9EF","#FAD447"],style:{data:{stroke:"black",strokeWidth:.2}}}))),s.a.createElement(g.a,null,s.a.createElement(p.a,null,s.a.createElement(Y.a,{x:125,y:50,title:"Legend",centerTitle:!0,orientation:"vertical",gutter:20,style:{title:{fontSize:26},labels:{fontSize:20}},data:[{name:"Needs revision",symbol:{fill:"#E48EC3"}},{name:"Needs final approval",symbol:{fill:"#7FC9EF"}},{name:"Pending affinity",symbol:{fill:"#FAD447"}}]}))))):s.a.createElement(g.a,{className:"w-100 ma3",justify:"center"},s.a.createElement(p.a,{lg:2},s.a.createElement(S.a,{indicator:Q,className:""})))),s.a.createElement(p.a,{lg:18},s.a.createElement(q,{style:{padding:"0px 0px 0px 16px"}},s.a.createElement(j.c,null,s.a.createElement(j.a,{exact:!0,path:"/TheHangLooseHut/",element:s.a.createElement(G,null)}))))),s.a.createElement(K,{className:"footer",style:{textAlign:"center"}},"\xa9 THE HANG LOOSE HUT 2022"))}}]),t}(n.Component),X=(a(423),function(e){function t(){var e,a;Object(i.a)(this,t);for(var n=arguments.length,s=new Array(n),l=0;l<n;l++)s[l]=arguments[l];return(a=Object(o.a)(this,(e=Object(m.a)(t)).call.apply(e,[this].concat(s)))).state={loginState:"LoggedOut",username:"",password:""},a}return Object(h.a)(t,e),Object(r.a)(t,[{key:"Login",value:function(){var e=this,t={method:"get",url:"https://thehangloosehutbackend.herokuapp.com/login?id=".concat(this.state.username,"&pwd=").concat(this.state.password)};""!==this.state.password&&""!==this.state.username?_()(t).then(function(t){!0===t.data?e.setState({loginState:"LoggedIn"}):d.a.error({message:"Incorrect username or Password",placement:"bottomRight"})}).catch(function(e){console.log(e)}):d.a.error({message:"Enter Username and Password",placement:"bottomRight"})}},{key:"render",value:function(){var e=this;return s.a.createElement("div",null,"LoggedIn"===this.state.loginState?s.a.createElement(u.a,{className:"site-layout"},s.a.createElement(V,null)):s.a.createElement("div",{className:"login-page"},s.a.createElement(g.a,{className:"header",align:"center"},s.a.createElement(p.a,null,s.a.createElement("img",{alt:"TheHangLooseHut",className:"header-logo",src:x.a}))),s.a.createElement(g.a,{className:"login-box",justify:"bottom",align:"center"},s.a.createElement(p.a,{className:"f3 login-form"},s.a.createElement(f.a,{className:"",placeholder:"Enter Username",onChange:function(t){return e.setState({username:t.target.value})}}),s.a.createElement(f.a.Password,{placeholder:"Enter Password",iconRender:function(e){return e?s.a.createElement(b.a,null):s.a.createElement(k.a,null)},onChange:function(t){return e.setState({password:t.target.value})}}),s.a.createElement(g.a,{justify:"middle",align:"center",className:"mt3"},s.a.createElement(E.a,{className:"",type:"primary",onClick:function(){e.Login()}},"Login"))))))}}]),t}(n.Component)),Z=a(211),$=function(e){e&&e instanceof Function&&a.e(1).then(a.bind(null,434)).then(function(t){var a=t.getCLS,n=t.getFID,s=t.getFCP,l=t.getLCP,c=t.getTTFB;a(e),n(e),s(e),l(e),c(e)})};c.a.render(s.a.createElement(s.a.StrictMode,null,s.a.createElement(Z.a,null,s.a.createElement(X,null))),document.getElementById("root")),$()}},[[282,3,2]]]);
//# sourceMappingURL=main.15373e8a.chunk.js.map